<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Début de l'histoire NIRD</title>
    <link href="style.css" rel="stylesheet" />
    <link href="./chatbot/chat.css" rel="stylesheet"/>
</head>

<body class="unselectable">

    <canvas id="interactive-bg"></canvas>

    <header>
        <div class="header-container">
            <a href="index.html" class="logo-link">
                <div class="logo">
                    <div class="logo-icon">N</div>
                    <h1>NIRD</h1>
                </div>
            </a>

            <button class="menu-toggle" onclick="toggleMenu()">
                <span id="burger"></span>
            </button>

            <nav id="mainNav">
                <ul>
                    <li><a href="index.html">Accueil / Visualiseur</a></li>
                    <li><a href="débutHistoire.html">L'Histoire</a></li>
                    <li><a href="crédits.html">Crédits</a></li>
                    <li><a href="ressources.html" target="_blank">Ressources</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <script>
        function toggleMenu() {
            const nav = document.getElementById('mainNav');
            const burger = document.getElementById('burger');

            nav.classList.toggle('active');
            burger.classList.toggle('open');
        }
    </script>

    <div class="container zoom">
        <div class="content-section">

            <div class="content-layout">
                <div class="image-placeholder">
                </div>
                <div id="dialogue-box">
                    <div id="dialogue-text"></div>
                    <div id="dialogue-next">▶</div>
                </div>
                <div class="button-group">
                    <a href="qcm.html" id="next-page-btn" class="btn-outline"
                        style="display: none;">Suivant</a>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Utilisation du même script.js -->
    <script src="script.js"></script>

</body>


        <script>
            function toggleMenu() {
                const nav = document.getElementById('mainNav');
                const burger = document.getElementById('burger');
                nav.classList.toggle('active');
                burger.classList.toggle('open');
            }
            const dialogues = [
                { text: "Ils arrivent devant le bureau de la proviseure.", image: "2_lyceens_plus_prof_techno.webp" },
                { text: "<b>Prof de techno</b> : Madame Pavoshko, on voulait reparler des ordinateurs.", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Pavoshko</b> : On a déjà parlé de ça. Je NE veux PAS tout réinstaller sur ces vieux PC. On n’a ni le budget, ni le temps.", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Robert</b> : Mais justement ! Linux est gratuit !", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Alice</b> : Et il utilise beaucoup moins de ressources que Windows 11. Du coup, vos “vieux” PC redeviennent rapides.", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Robert</b> : Vous savez que racheter des PC neufs, plus les licences Windows et Microsoft 365… ça coûterait une fortune ?", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Alice</b> : Sans compter que les grandes entreprises ramassent plein de données sur nous. Microsoft, Google… ils collectent tout : habitudes, profils, recherches…", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Robert</b> : Et c’est eux qui contrôlent presque tout : Microsoft a genre 70% des ordinateurs de bureau, et pour le cloud, c’est contrôlé à 66 % par trois entreprises : Amazon, Microsoft et Google.", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Alice</b> : On devient dépendants d’eux, alors qu’on pourrait être autonomes.", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Pavoshko</b> : Hmm… Je vois. Mais les élèves ne vont jamais accepter ça c’est bien trop dur à utiliser. Et ne parlons pas des professeurs qui ne veulent pas changer toutes leurs habitudes…", image: "pavoshko_et_les_2_lyceens.webp" },
                { text: "<b>Robert</b> : C’est aussi simple à utiliser que Windows, on va aller leur parler et les convaincre.", image: "pavoshko_et_les_2_lyceens.webp" } 
            ];
            let index = 0;
            let charIndex = 0;
            let isTyping = false;

            const imagePlaceholder = document.querySelector(".image-placeholder");
            const textBox = document.getElementById("dialogue-text");
            const nextBtn = document.getElementById("dialogue-next");
            const nextPageBtn = document.getElementById("next-page-btn");

            function typeDialogueHTML() {
                isTyping = true;
                const current = dialogues[index];
                textBox.innerHTML = current.text.substring(0, charIndex);
                charIndex++;

                if (charIndex <= current.text.length) {
                    setTimeout(typeDialogueHTML, 20);
                } else {
                    isTyping = false;
                    imagePlaceholder.style.backgroundImage = `url('${current.image}')`;

                    if (index < dialogues.length - 1) {
                        nextBtn.style.display = "block";
                    } else {
                        nextBtn.style.display = "none";
                        nextPageBtn.style.display = "block";
                    }
                }
            }

            function nextDialogue() {
                if (isTyping) return;

                if (index < dialogues.length - 1) {
                    nextBtn.style.display = "none";
                    index++;
                    charIndex = 0;
                    typeDialogueHTML();
                }
            }

            document.addEventListener("click", nextDialogue);
            nextBtn.addEventListener("click", nextDialogue);

            typeDialogueHTML();
        </script>

        <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>NIRD et sources</h3>
                <a href = "https://nird.forge.apps.education.fr/" target="_blank">Site officiel de la démarche NIRD</a>
                <a href = "https://video.echirolles.fr/w/hVykGUtRZqRen6eiutqRvQ" target="_blank">Vidéo : les logiciels libres</a>
                <a href = "https://www.radiofrance.fr/franceinter/podcasts/le-grand-reportage-de-france-inter/le-grand-reportage-du-mardi-14-octobre-2025-4136495" target="_blank">Podcast : les logiciels libres</a>
                <a href = "https://www.youtube.com/watch?v=76T8oubek-c" target="_blank">Vidéo : jeter des milliers d'ordinateurs ?</a>
                <a href = "https://www.youtube.com/watch?v=S6GLqkhykmA" target="_blank">Vidéo : l'ordinateur obsolète</a>
            </div>

            <div class="footer-section">
                <h3>Navigation</h3>
                <a href="#">Accueil</a>
                <a href="débutHistoire.html">L'Histoire</a>
                <a href="crédits.html">Crédits</a>
                <a href="ressources.html" target="_blank">Ressources</a>
            </div>

            <div class="footer-section">
                <a href="snake.html" target="_blank">
                    <h3>Jeu snake</h3>
                </a>
                <a href="#" data-popup="J't'ai bien eu !">Je suis le vrai jeu snake !</a>
                <a href="#" data-popup="Eh bien enfait... non.">Non, c'est moi !</a>
                <a href="#" data-popup="C'était vraiment pas moi.">En tout cas, c'est pas moi.</a>
                <a href="#" data-popup="Ah bon ? C'est pas moi...">Ben oui, c'est moi !</a>
            </div>
            <script>
                document.querySelectorAll('a[data-popup]').forEach(link => {
                    link.addEventListener('click', function(event) {
                        event.preventDefault(); // Empêche le comportement par défaut du lien
                        const message = this.getAttribute('data-popup'); // Récupère le texte
                        alert(message); // Affiche la popup
                    });
                });
            </script>

        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Dev'ier - IUT Informatique de Toulouse. Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        function toggleMenu() {
            const nav = document.getElementById('mainNav');
            const burger = document.getElementById('burger');
            // On sélectionne aussi le conteneur des contrôles audio
            const ui = document.querySelector('.ui-container');

            nav.classList.toggle('active');
            burger.classList.toggle('open');
            
            // Si la barre de contrôle existe sur cette page, on la cache/affiche
            if (ui) {
                ui.classList.toggle('hidden');
            }
        }
    </script>

    <script src="script.js"></script>

    <!-- ChatBox -->
    <div id="chat-icon">
        <img src="./chatbot/chatbotreact.png" alt="Chat">
    </div>
    <div id="chat-box">
        <div class="chat-header">
            <span class="header-title">Moustache</span>
            <img id="chat-corner-icon" src="./chatbot/pate.png" alt="icone">
        </div>
        <div class="chat-body"></div>
        <form id="chat-form">
            <div class="chat-footer">
                <input type="text" id="user-message" name="message" placeholder="Écrire..." required>
                <button type="submit">Envoyer</button>
            </div>
        </form>
    </div>
    <script src="./chatbot/chat.js"></script>
        </body>
        </body>

</html>